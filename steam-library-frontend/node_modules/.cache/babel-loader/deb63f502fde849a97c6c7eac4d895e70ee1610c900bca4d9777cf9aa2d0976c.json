{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.games, game => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: game._id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(game.title), 1 /* TEXT */), _createTextVNode(\" - \" + _toDisplayString(game.genre) + \" \", 1 /* TEXT */), _createVNode(_component_router_link, {\n      to: {\n        name: 'EditGame',\n        params: {\n          id: game._id\n        }\n      }\n    }, {\n      default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\"Modifier\")]))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteGame(game._id)\n    }, \"Supprimer\", 8 /* PROPS */, _hoisted_1)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_router_link, {\n    to: \"/add\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Ajouter un Jeu\")])),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createElementVNode","_renderList","$data","games","game","key","_id","_toDisplayString","title","_createTextVNode","genre","_createVNode","_component_router_link","to","name","params","id","default","_withCtx","_cache","_","onClick","$event","$options","deleteGame","_hoisted_1"],"sources":["/Users/lucaslabeye/Documents/EFREI/steam-library/steam-library-frontend/src/components/GameList.vue"],"sourcesContent":["<template>\n  <div>\n    <ul>\n      <li v-for=\"game in games\" :key=\"game._id\">\n        <strong>{{ game.title }}</strong> - {{ game.genre }}\n        <router-link :to=\"{ name: 'EditGame', params: { id: game._id } }\">Modifier</router-link>\n        <button @click=\"deleteGame(game._id)\">Supprimer</button>\n      </li>\n    </ul>\n  </div>\n  <router-link to=\"/add\">Ajouter un Jeu</router-link>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      games: [],\n    };\n  },\n  methods: {\n    async fetchGames() {\n      try {\n        const response = await fetch('http://localhost:3000/games');\n        if (!response.ok) {\n          throw new Error(`Erreur HTTP ! statut : ${response.status}`);\n        }\n        const data = await response.json();\n        this.games = data;\n      } catch (error) {\n        console.error('Erreur lors de la récupération des jeux :', error);\n      }\n    },\n    async deleteGame(id) {\n      try {\n        const response = await fetch(`http://localhost:3000/games/${id}`, {\n          method: 'DELETE',\n        });\n        if (!response.ok) {\n          throw new Error(`Erreur HTTP ! statut : ${response.status}`);\n        }\n        this.fetchGames(); // Asynchrone fetch après la suppression\n      } catch (error) {\n        console.error('Erreur lors de la suppression du jeu :', error);\n      }\n    },\n  },\n  created() {\n    this.fetchGames();\n  },\n};\n</script>\n"],"mappings":";mBAAA;;;uBAAAA,mBAAA,CAAAC,SAAA,SACEC,mBAAA,CAQM,cAPJA,mBAAA,CAMK,c,kBALHF,mBAAA,CAIKC,SAAA,QAPXE,WAAA,CAGyBC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAfN,mBAAA,CAIK;MAJsBO,GAAG,EAAED,IAAI,CAACE;QACnCN,mBAAA,CAAiC,gBAAAO,gBAAA,CAAtBH,IAAI,CAACI,KAAK,kBAJ7BC,gBAAA,CAIyC,KAAG,GAAAF,gBAAA,CAAGH,IAAI,CAACM,KAAK,IAAG,GACpD,iBAAAC,YAAA,CAAwFC,sBAAA;MAA1EC,EAAE;QAAAC,IAAA;QAAAC,MAAA;UAAAC,EAAA,EAAoCZ,IAAI,CAACE;QAAG;MAAA;;MALpEW,OAAA,EAAAC,QAAA,CAK0E,MAAQ,KAAAC,MAAA,QAAAA,MAAA,OALlFV,gBAAA,CAK0E,UAAQ,E;MALlFW,CAAA;iDAMQpB,mBAAA,CAAwD;MAA/CqB,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU,CAACpB,IAAI,CAACE,GAAG;OAAG,WAAS,iBANvDmB,UAAA,E;sCAUEd,YAAA,CAAmDC,sBAAA;IAAtCC,EAAE,EAAC;EAAM;IAVxBI,OAAA,EAAAC,QAAA,CAUyB,MAAcC,MAAA,QAAAA,MAAA,OAVvCV,gBAAA,CAUyB,gBAAc,E;IAVvCW,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}