{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"h1\", null, \"Ma Bibliothèque de Jeux\", -1 /* HOISTED */)), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.games, game => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: game._id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(game.title), 1 /* TEXT */), _createTextVNode(\" - \" + _toDisplayString(game.genre) + \" \", 1 /* TEXT */), _createVNode(_component_router_link, {\n      to: '/edit/' + game._id\n    }, {\n      default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createElementVNode(\"button\", null, \"Modifier\", -1 /* HOISTED */)]))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteGame(game._id)\n    }, \"Supprimer\", 8 /* PROPS */, _hoisted_1)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createVNode(_component_router_link, {\n    to: \"/add\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createElementVNode(\"button\", null, \"Ajouter un Jeu\", -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","games","game","key","_id","_toDisplayString","title","_createTextVNode","genre","_createVNode","_component_router_link","to","default","_withCtx","_cache","_","onClick","$event","$options","deleteGame","_hoisted_1"],"sources":["/Users/lucaslabeye/Documents/EFREI/steam-library/steam-library-frontend/src/components/GameList.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Ma Bibliothèque de Jeux</h1>\n    \n    <ul>\n      <li v-for=\"game in games\" :key=\"game._id\">\n        <strong>{{ game.title }}</strong> - {{ game.genre }}\n        <router-link :to=\"'/edit/' + game._id\">\n          <button>Modifier</button>\n        </router-link>\n        <button @click=\"deleteGame(game._id)\">Supprimer</button>\n      </li>\n    </ul>\n\n    <router-link to=\"/add\">\n      <button>Ajouter un Jeu</button>\n    </router-link>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      games: []\n    };\n  },\n  created() {\n    this.fetchGames();\n  },\n  methods: {\n    async fetchGames() {\n      try {\n        const response = await fetch('http://localhost:3000/games');\n        this.games = await response.json();\n      } catch (error) {\n        console.error('Erreur lors de la récupération des jeux :', error);\n      }\n    },\n    async deleteGame(id) {\n      if (!confirm(\"Voulez-vous vraiment supprimer ce jeu ?\")) {\n        return;\n      }\n      try {\n        const response = await fetch(`http://localhost:3000/games/${id}`, {\n          method: 'DELETE'\n        });\n        if (response.ok) {\n          this.fetchGames(); \n        } else {\n          console.error('Erreur lors de la suppression du jeu');\n        }\n      } catch (error) {\n        console.error('Erreur lors de la suppression du jeu :', error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  margin-bottom: 10px;\n}\n\nbutton {\n  margin-left: 10px;\n  padding: 5px 10px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #0056b3;\n}\n</style>\n"],"mappings":";mBAAA;;;uBACEA,mBAAA,CAgBM,c,0BAfJC,mBAAA,CAAgC,YAA5B,yBAAuB,sBAE3BA,mBAAA,CAQK,c,kBAPHD,mBAAA,CAMKE,SAAA,QAXXC,WAAA,CAKyBC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAfN,mBAAA,CAMK;MANsBO,GAAG,EAAED,IAAI,CAACE;QACnCP,mBAAA,CAAiC,gBAAAQ,gBAAA,CAAtBH,IAAI,CAACI,KAAK,kBAN7BC,gBAAA,CAMyC,KAAG,GAAAF,gBAAA,CAAGH,IAAI,CAACM,KAAK,IAAG,GACpD,iBAAAC,YAAA,CAEcC,sBAAA;MAFAC,EAAE,aAAaT,IAAI,CAACE;;MAP1CQ,OAAA,EAAAC,QAAA,CAQU,MAAyB,KAAAC,MAAA,QAAAA,MAAA,OAAzBjB,mBAAA,CAAyB,gBAAjB,UAAQ,oB;MAR1BkB,CAAA;iDAUQlB,mBAAA,CAAwD;MAA/CmB,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU,CAACjB,IAAI,CAACE,GAAG;OAAG,WAAS,iBAVvDgB,UAAA,E;oCAcIX,YAAA,CAEcC,sBAAA;IAFDC,EAAE,EAAC;EAAM;IAd1BC,OAAA,EAAAC,QAAA,CAeM,MAA+BC,MAAA,QAAAA,MAAA,OAA/BjB,mBAAA,CAA+B,gBAAvB,gBAAc,oB;IAf5BkB,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}