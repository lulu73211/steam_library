{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" <h2>Ma Bibliothèque de Jeux</h2>\"), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.games, game => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: game._id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(game.title), 1 /* TEXT */), _createTextVNode(\" - \" + _toDisplayString(game.genre) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteGame(game._id)\n    }, \"Supprimer\", 8 /* PROPS */, _hoisted_1)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["_createElementBlock","_createCommentVNode","_createElementVNode","_Fragment","_renderList","$data","games","game","key","_id","_toDisplayString","title","_createTextVNode","genre","onClick","$event","$options","deleteGame","_hoisted_1"],"sources":["/Users/lucaslabeye/Documents/EFREI/steam-library/steam-library-frontend/src/components/GameList.vue"],"sourcesContent":["<template>\n  <div>\n   <!-- <h2>Ma Bibliothèque de Jeux</h2>-->\n    <ul>\n      <li v-for=\"game in games\" :key=\"game._id\">\n        <strong>{{ game.title }}</strong> - {{ game.genre }}\n        <button @click=\"deleteGame(game._id)\">Supprimer</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      games: [],\n    };\n  },\n  methods: {\n    async fetchGames() {\n      try {\n        const response = await fetch('http://localhost:3000/games');\n        if (!response.ok) {\n          throw new Error(`Erreur HTTP ! statut : ${response.status}`);\n        }\n        const data = await response.json();\n        this.games = data;\n      } catch (error) {\n        console.error('Erreur lors de la récupération des jeux :', error);\n      }\n    },\n    async deleteGame(id) {\n      try {\n        const response = await fetch(`http://localhost:3000/games/${id}`, {\n          method: 'DELETE',\n        });\n        if (!response.ok) {\n          throw new Error(`Erreur HTTP ! statut : ${response.status}`);\n        }\n        this.fetchGames(); // Asynchrone fetch après la suppression\n      } catch (error) {\n        console.error('Erreur lors de la suppression du jeu :', error);\n      }\n    },\n  },\n  created() {\n    this.fetchGames();\n  },\n};\n</script>\n"],"mappings":";mBAAA;;uBACEA,mBAAA,CAQM,cAPLC,mBAAA,qCAAwC,EACvCC,mBAAA,CAKK,c,kBAJHF,mBAAA,CAGKG,SAAA,QAPXC,WAAA,CAIyBC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAfP,mBAAA,CAGK;MAHsBQ,GAAG,EAAED,IAAI,CAACE;QACnCP,mBAAA,CAAiC,gBAAAQ,gBAAA,CAAtBH,IAAI,CAACI,KAAK,kBAL7BC,gBAAA,CAKyC,KAAG,GAAAF,gBAAA,CAAGH,IAAI,CAACM,KAAK,IAAG,GACpD,iBAAAX,mBAAA,CAAwD;MAA/CY,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU,CAACV,IAAI,CAACE,GAAG;OAAG,WAAS,iBANvDS,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}